import matplotlib.pyplot as plt
from itertools import chain



# y = [0.17694315523574122, 0.20644559741324736, 0.17694315523574122, 0.20644559741324736, 0.5965825057021303, 0.642068296098568, 0.5965825057021303, 0.642068296098568, 0.7695995650008859, 0.8222121943145246, 0.8078866973828491, 0.8624837373642332, 0.8078866973828491, 0.8624837373642332, 0.8174627981070323, 0.8726425929813411, 0.8203766707262734, 0.8757565404891519, 0.8203766707262734, 0.8757565404891519, 0.8214200529830066, 0.8768794057609913, 0.8214200529830066, 0.8768794057609913, 0.8218450603726358, 0.8773399961432133, 0.8220371376042221, 0.8775495228899993, 0.8220371376042221, 0.8775495228899993, 0.822131614214529, 0.877653246796149]
# y2 = [0.18516622526788465, 0.21870091934060837, 0.18516622526788465, 0.21870091934060837, 0.5591303720359095, 0.5999381682122891, 0.5591303720359095, 0.5999381682122891, 0.7364199011789485, 0.7834802057223325, 0.7810689691920636, 0.8310165560223094, 0.7810689691920636, 0.8310165560223094, 0.7921118616820093, 0.8430609401481673, 0.7950566332945395, 0.8463984575670344, 0.7950566332945395, 0.8463984575670344, 0.7960042452802358, 0.8475109216565537, 0.7960042452802358, 0.8475109216565537, 0.7963588714601172, 0.8479405931677414, 0.796508526023992, 0.848127062521708, 0.796508526023992, 0.848127062521708, 0.7965783100834626, 0.8482161948012321]
# y3 = [0.19705497924756638, 0.22682198850677154, 0.19705497924756638, 0.22682198850677154, 0.7856739267946808, 0.8398594894142415, 0.7856739267946808, 0.8398594894142415, 0.8198742853856077, 0.8753794527951886, 0.8218132370901596, 0.8774338283147621, 0.8218132370901596, 0.8774338283147621, 0.8220139037624875, 0.8776500526487213, 0.8220448123290399, 0.8776838432580585, 0.8220448123290399, 0.8776838432580585, 0.8220510752027366, 0.8776907666765625, 0.8220510752027366, 0.8776907666765625, 0.8220526390480846, 0.8776925184513642, 0.8220531139914348, 0.8776930370573831, 0.8220531139914348, 0.8776930370573831, 0.8220533302805093, 0.8776932786385492]
# #300
# y4 = [0.15440150918999232, 0.15141604832179434, 0.15440150918999232, 0.15141604832179434, 0.33287780239900977, 0.3375109401572774, 0.33287780239900977, 0.3375109401572774, 0.525989241613623, 0.541040280188541, 0.675209290830378, 0.6979927162757813, 0.675209290830378, 0.6979927162757813, 0.7676309087949116, 0.7949729427394124, 0.8205894502424143, 0.8502560152407348, 0.8205894502424143, 0.8502560152407348, 0.850798247261363, 0.8817530409754948, 0.850798247261363, 0.8817530409754948, 0.8680778938408098, 0.8998062575007315, 0.8783313416306859, 0.9105487461996999, 0.8783313416306859, 0.9105487461996999, 0.8846730690958207, 0.9172116479481762]
# y5 = [0.16731316543293814, 0.15937003955471957, 0.16731316543293814, 0.15937003955471957, 0.6421614440237411, 0.6570706783741231, 0.6421614440237411, 0.6570706783741231, 0.842618345738267, 0.8705741198285658, 0.8849292020475114, 0.9165543278013342, 0.8849292020475114, 0.9165543278013342, 0.895073365731298, 0.9277649104218163, 0.8980803424300003, 0.931135592039553, 0.8980803424300003, 0.931135592039553, 0.8991438500082671, 0.9323421000526644, 0.8991438500082671, 0.9323421000526644, 0.8995747133934655, 0.9328361559854905, 0.8997693335686131, 0.9330614110547136, 0.8997693335686131, 0.9330614110547136, 0.8998654321488925, 0.9331735480078921]

y1 = [0.11765974573654585, 0.11765974573654585, 0.23253873073157494, 0.23253873073157494, 0.3405274058756212, 0.38058667736828894, 0.38058667736828894, 0.39127727003574264, 0.395179137438108, 0.395179137438108, 0.3968747150746805, 0.3968747150746805, 0.3977262470612697, 0.3982463399810806, 0.3982463399810806, 0.39858311112735245]
y2 = [0.13553230688694504, 0.13553230688694504, 0.25202260363950996, 0.25202260363950996, 0.4136931773426499, 0.44186723201026, 0.44186723201026, 0.44721001268479094, 0.44861932728245274, 0.44861932728245274, 0.4491473618894334, 0.4491473618894334, 0.44940289819311985, 0.44955006841420697, 0.44955006841420697, 0.44964754277949837, 0.4497136214036977, 0.4497136214036977, 0.44976065496930334, 0.44976065496930334, 0.44979549239225153, 0.4498219050712997, 0.4498219050712997, 0.44984256458074184, 0.44985944348934925, 0.44985944348934925, 0.4498736959572026, 0.4498736959572026, 0.44988532843228785, 0.4498948133758061, 0.4498948133758061, 0.4499029676283094, 0.44990987288115225, 0.44990987288115225, 0.44991582560433363, 0.44991582560433363, 0.4499210124905777, 0.4499254445895553, 0.4499254445895553, 0.44992920784462137, 0.44993251947888924, 0.44993251947888924, 0.4499353590033198, 0.4499353590033198, 0.4499378619603657, 0.449940027156077]
y3 = [0.14492599144072243, 0.14492599144072243, 0.3172644583068319, 0.3172644583068319, 0.3775377241788986, 0.39251635186304745, 0.39251635186304745, 0.41773116479834166, 0.4376887829882924, 0.4376887829882924, 0.4449464540148245, 0.4449464540148245, 0.44741660499595676, 0.4484727383772512, 0.4484727383772512, 0.44901811206326625, 0.4493332849476356, 0.4493332849476356, 0.44952748191201797, 0.44952748191201797, 0.4496524246924018, 0.44973653969900623, 0.44973653969900623, 0.4497949449057067, 0.4498364089926838, 0.4498364089926838, 0.449866709360265, 0.449866709360265, 0.4498892948606346, 0.44990644888483305, 0.44990644888483305, 0.44991975458149797, 0.4499301775860971, 0.4499301775860971, 0.4499385409987198, 0.4499385409987198, 0.44994528537357725, 0.4499507934525947, 0.4499507934525947, 0.4499553439795504, 0.4499591342937486, 0.4499591342937486, 0.4499623092267024, 0.4499623092267024, 0.44996498934780826, 0.44996727653091434, 0.44996727653091434, 0.4499692343286725, 0.44997092834386754, 0.44997092834386754, 0.44997236954281855]
y4 = [0.11810824472097936, 0.10795223766588487, 0.11810824472097936, 0.10795223766588487, 0.2531103383430273, 0.256579406700702, 0.2531103383430273, 0.256579406700702, 0.35688146734021353, 0.3362387680882188, 0.3818801976838361, 0.3599739177406976, 0.3818801976838361, 0.3599739177406976, 0.38775719486416094, 0.3656154144649405, 0.39114367357304947, 0.3683544512721403, 0.39114367357304947, 0.3683544512721403, 0.3941857844777415, 0.3707231142384446, 0.3941857844777415, 0.3707231142384446, 0.39597543897500376, 0.37207506336813345, 0.39713092129832317, 0.37291430845820944, 0.39713092129832317, 0.37291430845820944, 0.3978816250094685, 0.3734514557744032, 0.3983870945339522, 0.3738120004250409, 0.3983870945339522, 0.3738120004250409, 0.3987369340080974, 0.3740617859570995, 0.3987369340080974, 0.3740617859570995, 0.39899127989917055, 0.37424341455072346, 0.39918351261783647, 0.374379662408095, 0.39918351261783647, 0.374379662408095, 0.3993260535813791, 0.3744821079905573, 0.39943383494294105, 0.3745599999611552, 0.39943383494294105, 0.3745599999611552, 0.39951589071438665, 0.3746202657159805, 0.39951589071438665, 0.3746202657159805, 0.3995805309827072, 0.37466864336111544, 0.3996311938172256, 0.37470693377190856, 0.3996311938172256, 0.37470693377190856, 0.3996718481303697, 0.37473796543249904, 0.39970526964699765, 0.37476341252464024, 0.39970526964699765, 0.37476341252464024, 0.3997325878191712, 0.3747843948440402, 0.3997325878191712, 0.3747843948440402, 0.3997552643325524, 0.37480190624045273, 0.39977430671868486, 0.3748166887255478, 0.39977430671868486, 0.3748166887255478, 0.39979072520078074, 0.37482952748926496, 0.399804743723054, 0.37484061406201225, 0.399804743723054, 0.37484061406201225, 0.399816791828255, 0.3748503460376121, 0.399816791828255, 0.3748503460376121, 0.39982713809076775, 0.3748587718924891, 0.39983601899571475, 0.3748661514888616, 0.39983601899571475, 0.3748661514888616, 0.39984382216077413, 0.3748727175619989, 0.3998507921626687, 0.3748785666812763, 0.3998507921626687, 0.3748785666812763, 0.39985700504555644, 0.3748837920727758]
y5 = [0.11234511436615835, 0.09694681234658498, 0.11234511436615835, 0.09694681234658498, 0.2447872197411191, 0.2353243915086956, 0.2447872197411191, 0.2353243915086956, 0.3436599798195423, 0.30302593218486595, 0.3783930812151323, 0.3332932731375574, 0.3783930812151323, 0.3332932731375574, 0.3931203698155009, 0.3445180214437915, 0.397277289849589, 0.3477309291298373, 0.397277289849589, 0.3477309291298373, 0.39858457523680224, 0.3487695480211709, 0.39858457523680224, 0.3487695480211709, 0.39874643376998076, 0.3489471971369493, 0.39868482846867825, 0.3489325552012746, 0.39868482846867825, 0.3489325552012746, 0.3986699740838774, 0.34894790431167905, 0.39866369762482723, 0.3489530135422565, 0.39866369762482723, 0.3489530135422565, 0.39869263664419974, 0.34898694780801853, 0.39869263664419974, 0.34898694780801853, 0.3987551270158704, 0.34903397056677593, 0.398877327434623, 0.349063817935192, 0.398877327434623, 0.349063817935192, 0.3991543777432206, 0.3492426717943523, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476, 0.3993145640575966, 0.3493555609412476]




x = [x*20 for x in range(int(len(y3)))]
x5 = list(chain.from_iterable((x*20, x*20+10) for x in range(int(len(y4)/2))))
x6 = list(chain.from_iterable((x*20, x*20+10) for x in range(int(len(y5)/2))))

# print(sum(y3[6:])/len(y3[6:]))
# print(sum(y2[6:])/len(y2[6:]))
# print(sum(y[6:])/len(y[6:]))


plt.plot(x,y3, label= 'case 1')
plt.plot(x5,y4, label= 'case 2')
plt.plot(x6,y5, label= 'case 3')
# plt.plot(x,y4, label= 'case 4')
# plt.plot(x,y5, label= 'case 5')

plt.legend()

plt.xlabel('iterations')
plt.ylabel('chance of winning')
plt.title("Stage 2")
#plt.show()
plt.savefig("dealer_1.png")

